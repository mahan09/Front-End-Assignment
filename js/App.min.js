$(document).ready(function(){function e(){function e(e){console.log("Current latitude: "+e.coords.latitude),console.log("Current longitude: "+e.coords.longitude)}function o(e){console.log("There is an error "+e)}navigator.geolocation.getCurrentPosition(e,o),l=new google.maps.Map(document.getElementById("map"),{center:d,mapTypeId:google.maps.MapTypeId.SATELLITE,zoom:12}),navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){function o(){i.setAnimation(null!==i.getAnimation()?null:google.maps.Animation.BOUNCE)}var n={lat:e.coords.latitude,lng:e.coords.longitude},t=new google.maps.TrafficLayer;t.setMap(l);var i=new google.maps.Marker({position:n,animation:google.maps.Animation.DROP,map:l});i.addListener("click",o),g=new google.maps.DirectionsService,u=new google.maps.DirectionsRenderer({map:l});var a=window.location.href.split("?"),s=a[1].split("=");$.getJSON("json/clothes.json",function(e){function o(e,o){var n=document.getElementById("mode").value;e.route({origin:a,destination:r,travelMode:google.maps.TravelMode[n]},function(e,n){n==google.maps.DirectionsStatus.OK?o.setDirections(e):window.alert("Directions request failed due to "+n)})}for(var t=0;t<e.products.length;t++)if(e.products[t].id==s[1]){var i=e.products[t],a=new google.maps.LatLng(n),r=new google.maps.LatLng(i.lat,i.lng);o(g,u),document.getElementById("mode").addEventListener("change",function(){o(g,u)})}});var a=window.location.href.split("?"),s=a[1].split("=");$.getJSON("json/clothes.json",function(e){for(var o=0;o<e.products.length;o++){if(e.products[o].id==s[1]){var t=e.products[o],i='<div class="row">',a=new google.maps.LatLng(n),r=new google.maps.LatLng(t.lat,t.lng),l=(new google.maps.LatLng(t.lat,t.lng),(google.maps.geometry.spherical.computeDistanceBetween(a,r)/1e3*.6214*10).toFixed(2)+" Miles");console.log("Store Distance:"+l),i+="</div>",i+="<b><li><h5>Distance From Your location: "+l+"</p></li></h5>",i+="</div>"}$("#distance").html(i)}});var r='<h2 id="firstHeading" class="firstHeading">Your Are Here</h2>';c=new google.maps.InfoWindow({content:r}),i.addListener("click",function(){c.open(l,i)}),c.setPosition(n),l.setCenter(n)},function(){handleLocationError(!0,c,l.getCenter())}):handleLocationError(!1,c,l.getCenter())}$("#your-page").fadeIn(1e3),$(".nav-text").click(function(){$(".top-nav > ul").toggleClass("show-menu","slow")});var o=function(e){return new Promise(function(o,n){var t=new XMLHttpRequest,i=function(){if(4===t.readyState)if(200===t.status){var e=JSON.parse(t.responseText);o(e)}else n("Failed to get a successful response")};t.addEventListener("readystatechange",i,!1),t.open("GET",e,!0),t.send(null)})};$("#search").keyup(function(e){var o=$("#search").val(),n=($(this).val(),0),t=new RegExp(o,"i"),i=(e.products,'<div class="row">');$.getJSON("json/clothes.json",function(e){$.each(e.products,function(e,o){(-1!=o.name.search(t)||-1!=o.category.search(t))&&(i+='<div class="col-md-5"><img class="img-responsive"  src="'+o.ImgPath+'" alt="'+o.name+'" /></div>',i+="<br>",i+='<div class="col-md-6">',i+="<b><li><h5>Brand: "+o.name+"</h5></li></b>",i+="<b><li><h5>Type: "+o.category+"</h5></li></b>",i+='<b><h4><a href="'+o.link+"?id="+o.id+'">View More</a></h4></b>',i+="<hr>",i+="</br>",i+="</br>",i+="</br>",i+="</br>",i+="</div>",n++)}),$("#results").html(i),$("#filter-count").text(n+" Items Found")})});var n=function(e){var o='<div class="row">',n=e.products;n.forEach(function(e){o+='<div class="col-md-5"><img class="img-responsive"  src="'+e.url+'" alt="'+e.indexname+'" /></div>',o+="<br>",o+="<br>",o+='<div class="col-md-6">',o+="<b><h4>"+e.indexname+"</h4></b>",o+="<br>",o+="<br>",o+="</div>"}),$("#responsive").html(o)},t=function(e){var o='<div class="row">',n=e.products;n.forEach(function(e){o+='<div class="col-md-5"><img class="img-responsive"  src="'+e.ImgPath+'" alt="'+e.indexname+'" /></div>',o+="<br>",o+='<div class="col-md-6">',o+="<b><h5>Brand: "+e.indexname+"</h5></b>",o+="<b><h5>Type: "+e.category+"</h5></b>",o+='<b><h4><a href="'+e.link+"?id="+e.id+'">View More</a></h4></b>',o+="<hr>",o+="</br>",o+="</br>",o+="</br>",o+="</div>"}),$("#results").html(o)},i=function(e){console.log(e)},a=o("json/clothes.json");a.then(t,i),a.then(n,i);var s=window.location.href.split("?");console.log(s[1]);var r=s[1].split("=");console.log(r[1]),$.getJSON("json/clothes.json",function(e){for(var o=0;o<e.products.length;o++){if(e.products[o].id==r[1]){var n=e.products[o],t='<div class="row">';t+='<div class="col-md-5"><img class="img-responsive"  src="'+n.ImgPath+'" alt="'+n.name+'" /></div>',t+="<br>",t+='<div class="col-md-6">',t+="<b><li><h5>Brand: "+n.name+"</h5></li></b>",t+="<b><li><h5>Colour: "+n.Colour+"</h5></li></b>",t+="<b><li><h5>Size: "+n.Size+"</h5></li></b>",t+="<b><li><h5>Category: "+n.category+"</h5></li></b>",t+="<b><li><h5>Price: "+n.Price+"</h5></li></b>",t+="</div>"}t+="</div>",$("#details").html(t)}});var l,c,d,g=(new google.maps.InfoWindow,new google.maps.DirectionsService),u=new google.maps.DirectionsRenderer;window.addEventListener("load",e,!1)});